# Clojure 커밋 탐색 가이드

이 문서는 Claude가 커밋 탐색 작업을 이어나갈 수 있도록 작성된 가이드입니다.

## 작업 목적

Clojure 소스코드의 첫 커밋(2006년)부터 하나씩 살펴보며:
1. 언어가 어떻게 발전해왔는지 기록
2. 전체 아키텍처와 설계 이해
3. 핵심 개념과 기능 학습

## 파일 구조

```
commits/
├── index.md          # 메인 페이지 (진행 상황, 연도별 링크)
├── GUIDE.md          # 이 파일 (작업 가이드)
├── docs/             # 설계 및 개념 문서
│   ├── architecture.md   # 전체 아키텍처 (클래스 구조, 설계 원칙)
│   └── concepts/         # 개념별 상세 문서 (필요시 생성)
└── {연도}/
    └── {월}.md       # 해당 월의 커밋 기록 (예: 2006/03.md)
```

## 현재 진행 상황 확인

1. `commits/index.md`의 "진행 상황" 섹션 확인
2. 해당 월 파일의 "다음 커밋" 섹션에서 다음 해시 확인

## 다음 커밋 탐색 방법

### 1. 다음 커밋 해시 찾기
월별 파일 하단의 "다음 커밋" 섹션에 해시가 기록되어 있음.

또는 전체 커밋 목록에서 찾기:
```bash
git rev-list --reverse HEAD | head -50  # 처음 50개
```

### 2. 커밋 상세 보기
```bash
git show --stat {해시}
```

### 3. 파일 내용 보기
```bash
git show {해시}:{파일경로}
```

### 4. 커밋 간 diff 보기
```bash
git diff {이전해시} {현재해시}
```

## 기록 템플릿

각 커밋은 다음 형식으로 기록:

```markdown
---

## 커밋 #{번호}
- **Hash:** `{전체해시}`
- **Date:** {YYYY-MM-DD}
- **Message:** "{커밋메시지}"

### 변경 파일
| 파일 | 변경 |
|------|------|
| {파일경로} | +{추가}/-{삭제} |

### 메모
{중요한 내용, 코드 스니펫, 의미 분석 등}

---

## 다음 커밋
- **Hash:** `{다음해시}`
```

## 새 월 파일 생성 시

1. 해당 연도 폴더 생성 (없으면): `mkdir -p commits/{연도}`
2. 월 파일 생성: `commits/{연도}/{월}.md`
3. 헤더 작성:
```markdown
# {연도}년 {월}월

{해당 월 요약 설명}

- **커밋 수:** {n}개
- **탐색 완료:** 0 / {n}

---
```
4. `index.md`에 링크 추가

## 월별 커밋 수 확인

```bash
git log --format="%ad" --date=format:"%Y-%m" | sort | uniq -c
```

## 유용한 명령어

```bash
# 특정 월의 커밋만 보기
git log --after="2006-03-01" --before="2006-04-01" --oneline

# 특정 커밋의 전체 diff
git show {해시}

# 특정 파일의 히스토리
git log --oneline -- {파일경로}
```

## 설계 문서 (docs/) 관리

### architecture.md 업데이트 타이밍
다음 경우에 `docs/architecture.md`를 업데이트:
- **새로운 클래스/인터페이스** 등장 시 → 클래스 계층 구조에 추가
- **새로운 개념** 발견 시 → 핵심 개념 섹션에 추가
- **설계 패턴** 발견 시 → 설계 원칙에 추가
- 문서 상단의 "마지막 업데이트" 커밋 번호 갱신

### 개념별 상세 문서 (docs/concepts/)
특정 개념이 복잡해지면 별도 문서 생성:
```
docs/concepts/
├── persistent-data-structures.md  # 영속 자료구조
├── seq-abstraction.md             # Seq 추상화
├── macros.md                      # 매크로 시스템
├── stm.md                         # Software Transactional Memory
└── ...
```

### 용어집 관리
`architecture.md` 하단의 용어집에 새 용어 추가. 나중에 커지면 별도 `glossary.md`로 분리.

## 주의사항

- 커밋 번호는 전체 기준이 아닌 **월별 기준**으로 매김
- `index.md`의 진행 상황은 **전체 기준**으로 업데이트
- 중요한 코드 변경은 코드 스니펫과 함께 기록
- 나중에 웹으로 제공할 수 있도록 마크다운 형식 유지
- **중요한 클래스/개념 등장 시 반드시 docs/ 업데이트**
